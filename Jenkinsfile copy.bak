node('jenkins-slave') {
    
     stage('unit-tests') {
        sh(script: """
            docker run --rm  alpine:3.12.0 /bin/sh -c "echo hello world"
        """)
    }
}

#############################################################################
#############################################################################
#############################################################################
podTemplate(containers: [
    containerTemplate(name: 'tictactoe', image: 'dalexander2israel/my-tictactoe-app:latest, ttyEnabled: true, command: 'cat')
  ]) {

    node(jenkins-slave) {
        stage('Get a tictactoe game ') {
            container('tictactoe') {
                stage('Build a tictactoe project') {
                    sh java tictactoe
                }
            }
        }
    }
}

#############################################################################
#############################################################################
#############################################################################
This will be container specific

podTemplate(containers: [â€¦]) {
  node(POD_LABEL) {
    stage('Run shell') {
      container('mycontainer') {
        sh 'echo hello world'
      }
    }
  }
}

#############################################################################
#############################################################################
#############################################################################
stages {
        stage('Test') {
            steps {
                sh 'node --version'
            }
        }
    }

#############################################################################
#############################################################################
#############################################################################

node('jenkins-slave'){
  pipeline {
      agent {
          docker { image 'node:14-alpine' }
      }
      stages {
          stage('Test') {
              steps {
                  sh 'node --version'
              }
          }
      }
  }
}

#############################################################################
#############################################################################
#############################################################################
  node('jenkins-slave') {
        

  stages {
    stage('Starting Container') {
      agent {
        docker {
          image 'dalexander2israel/my-tictactoe-app:latest'
        }
      }
      steps ('Start TicTacToe') {
        sh 'java TicTacToe'
      }
    }
    stage('Running TicTacToe') {
      agent any
      steps {
        sh 'docker build -t shanem/spring-petclinic:latest '
      }
    }
  }
}

